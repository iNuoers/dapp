(window.webpackJsonp=window.webpackJsonp||[]).push([[124],{153:function(t,e,r){"use strict";r.d(e,"a",(function(){return W}));var n,h,o=r(2),l=r(3),c=r(4),f=r(0),d=r(15);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(n||(n={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(h||(h={}));var y={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},v=function(){function t(){this.color=16777215,this.alpha=1,this.texture=o.q.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=o.q.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),m=function(t,b){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])},m(t,b)};function x(t,b){function e(){this.constructor=t}m(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}var w={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,h=e.points,o=e.indices;if(r.length>=6){for(var l=[],i=0;i<n.length;i++){var f=n[i];l.push(r.length/2),r=r.concat(f.points)}var d=Object(c.j)(r,l,2);if(!d)return;var y=h.length/2;for(i=0;i<d.length;i+=3)o.push(d[i]+y),o.push(d[i+1]+y),o.push(d[i+2]+y);for(i=0;i<r.length;i++)h.push(r[i])}}},_={build:function(t){var e,r,n=t.shape,h=t.points,o=n.x,c=n.y;if(h.length=0,t.type===l.l.CIRC)e=n.radius,r=n.radius;else{var f=t.shape;e=f.width,r=f.height}if(0!==e&&0!==r){var d=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(e+r));d/=2.3;for(var y=2*Math.PI/d,i=0;i<d-.5;i++)h.push(o+Math.sin(-y*i)*e,c+Math.cos(-y*i)*r);h.push(h[0],h[1])}},triangulate:function(t,e){var r=t.points,n=e.points,h=e.indices,o=n.length/2,l=o,circle=t.shape,c=t.matrix,f=circle.x,d=circle.y;n.push(t.matrix?c.a*f+c.c*d+c.tx:f,t.matrix?c.b*f+c.d*d+c.ty:d);for(var i=0;i<r.length;i+=2)n.push(r[i],r[i+1]),h.push(o++,l,o)}},S={build:function(t){var e=t.shape,r=e.x,n=e.y,h=e.width,o=e.height,l=t.points;l.length=0,l.push(r,n,r+h,n,r+h,n+o,r,n+o)},triangulate:function(t,e){var r=t.points,n=e.points,h=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(h,h+1,h+2,h+1,h+2,h+3)}};function M(t,e,r){return t+(e-t)*r}function P(t,e,r,n,h,o,l){void 0===l&&(l=[]);for(var c=l,f=0,d=0,y=0,v=0,m=0,x=0,i=0,w=0;i<=20;++i)f=M(t,r,w=i/20),d=M(e,n,w),y=M(r,h,w),v=M(n,o,w),m=M(f,y,w),x=M(d,v,w),0===i&&c[c.length-2]===m&&c[c.length-1]===x||c.push(m,x);return c}var T={build:function(t){var e=t.shape,r=t.points,n=e.x,h=e.y,o=e.width,l=e.height,c=Math.max(0,Math.min(e.radius,Math.min(o,l)/2));r.length=0,c?(P(n,h+c,n,h,n+c,h,r),P(n+o-c,h,n+o,h,n+o,h+c,r),P(n+o,h+l-c,n+o,h+l,n+o-c,h+l,r),P(n+c,h+l,n,h+l,n,h+l-c,r)):r.push(n,h,n+o,h,n+o,h+l,n,h+l)},triangulate:function(t,e){for(var r=t.points,n=e.points,h=e.indices,o=n.length/2,l=Object(c.j)(r,null,2),i=0,f=l.length;i<f;i+=3)h.push(l[i]+o),h.push(l[i+1]+o),h.push(l[i+2]+o);for(i=0,f=r.length;i<f;i++)n.push(r[i],r[++i])}};function D(t,e,r,n,h,o,l,c){var f,d;l?(f=n,d=-r):(f=-n,d=r);var y=t-r*h+f,v=e-n*h+d,m=t+r*o+f,x=e+n*o+d;return c.push(y,v),c.push(m,x),2}function E(t,e,r,n,h,o,l,c){var f=r-t,d=n-e,y=Math.atan2(f,d),v=Math.atan2(h-t,o-e);c&&y<v?y+=2*Math.PI:!c&&y>v&&(v+=2*Math.PI);var m=y,x=v-y,w=Math.abs(x),_=Math.sqrt(f*f+d*d),S=1+(15*w*Math.sqrt(_)/Math.PI>>0),M=x/S;if(m+=M,c){l.push(t,e),l.push(r,n);for(var i=1,P=m;i<S;i++,P+=M)l.push(t,e),l.push(t+Math.sin(P)*_,e+Math.cos(P)*_);l.push(t,e),l.push(h,o)}else{l.push(r,n),l.push(t,e);for(i=1,P=m;i<S;i++,P+=M)l.push(t+Math.sin(P)*_,e+Math.cos(P)*_),l.push(t,e);l.push(h,o),l.push(t,e)}return 2*S}function I(t,e){t.lineStyle.native?function(t,e){var i=0,r=t.shape,n=t.points||r.points,h=r.type!==l.l.POLY||r.closeStroke;if(0!==n.length){var o=e.points,c=e.indices,f=n.length/2,d=o.length/2,y=d;for(o.push(n[0],n[1]),i=1;i<f;i++)o.push(n[2*i],n[2*i+1]),c.push(y,y+1),y++;h&&c.push(y,d)}}(t,e):function(t,e){var r=t.shape,o=t.points||r.points.slice(),c=e.closePointEps;if(0!==o.length){var style=t.lineStyle,f=new l.g(o[0],o[1]),d=new l.g(o[o.length-2],o[o.length-1]),v=r.type!==l.l.POLY||r.closeStroke,m=Math.abs(f.x-d.x)<c&&Math.abs(f.y-d.y)<c;if(v){o=o.slice(),m&&(o.pop(),o.pop(),d.set(o[o.length-2],o[o.length-1]));var x=.5*(f.x+d.x),w=.5*(d.y+f.y);o.unshift(x,w),o.push(x,w)}var _=e.points,S=o.length/2,M=o.length,P=_.length/2,T=style.width/2,I=T*T,A=style.miterLimit*style.miterLimit,C=o[0],R=o[1],B=o[2],O=o[3],L=0,j=0,U=-(R-O),F=C-B,N=0,z=0,k=Math.sqrt(U*U+F*F);U/=k,F/=k,U*=T,F*=T;var H=style.alignment,Y=2*(1-H),G=2*H;v||(style.cap===h.ROUND?M+=E(C-U*(Y-G)*.5,R-F*(Y-G)*.5,C-U*Y,R-F*Y,C+U*G,R+F*G,_,!0)+2:style.cap===h.SQUARE&&(M+=D(C,R,U,F,Y,G,!0,_))),_.push(C-U*Y,R-F*Y),_.push(C+U*G,R+F*G);for(var i=1;i<S-1;++i){C=o[2*(i-1)],R=o[2*(i-1)+1],B=o[2*i],O=o[2*i+1],L=o[2*(i+1)],j=o[2*(i+1)+1],U=-(R-O),F=C-B,U/=k=Math.sqrt(U*U+F*F),F/=k,U*=T,F*=T,N=-(O-j),z=B-L,N/=k=Math.sqrt(N*N+z*z),z/=k,N*=T,z*=T;var V=B-C,W=R-O,X=B-L,Q=j-O,J=W*X-Q*V,Z=J<0;if(Math.abs(J)<.1)_.push(B-U*Y,O-F*Y),_.push(B+U*G,O+F*G);else{var K=(-U+C)*(-F+O)-(-U+B)*(-F+R),$=(-N+L)*(-z+O)-(-N+B)*(-z+j),tt=(V*$-X*K)/J,et=(Q*K-W*$)/J,it=(tt-B)*(tt-B)+(et-O)*(et-O),nt=B+(tt-B)*Y,st=O+(et-O)*Y,ht=B-(tt-B)*G,at=O-(et-O)*G,ot=Z?Y:G;it<=Math.min(V*V+W*W,X*X+Q*Q)+ot*ot*I?style.join===n.BEVEL||it/I>A?(Z?(_.push(nt,st),_.push(B+U*G,O+F*G),_.push(nt,st),_.push(B+N*G,O+z*G)):(_.push(B-U*Y,O-F*Y),_.push(ht,at),_.push(B-N*Y,O-z*Y),_.push(ht,at)),M+=2):style.join===n.ROUND?Z?(_.push(nt,st),_.push(B+U*G,O+F*G),M+=E(B,O,B+U*G,O+F*G,B+N*G,O+z*G,_,!0)+4,_.push(nt,st),_.push(B+N*G,O+z*G)):(_.push(B-U*Y,O-F*Y),_.push(ht,at),M+=E(B,O,B-U*Y,O-F*Y,B-N*Y,O-z*Y,_,!1)+4,_.push(B-N*Y,O-z*Y),_.push(ht,at)):(_.push(nt,st),_.push(ht,at)):(_.push(B-U*Y,O-F*Y),_.push(B+U*G,O+F*G),style.join===n.BEVEL||it/I>A||(style.join===n.ROUND?M+=Z?E(B,O,B+U*G,O+F*G,B+N*G,O+z*G,_,!0)+2:E(B,O,B-U*Y,O-F*Y,B-N*Y,O-z*Y,_,!1)+2:(Z?(_.push(ht,at),_.push(ht,at)):(_.push(nt,st),_.push(nt,st)),M+=2)),_.push(B-N*Y,O-z*Y),_.push(B+N*G,O+z*G),M+=2)}}C=o[2*(S-2)],R=o[2*(S-2)+1],B=o[2*(S-1)],U=-(R-(O=o[2*(S-1)+1])),F=C-B,U/=k=Math.sqrt(U*U+F*F),F/=k,U*=T,F*=T,_.push(B-U*Y,O-F*Y),_.push(B+U*G,O+F*G),v||(style.cap===h.ROUND?M+=E(B-U*(Y-G)*.5,O-F*(Y-G)*.5,B-U*Y,O-F*Y,B+U*G,O+F*G,_,!1)+2:style.cap===h.SQUARE&&(M+=D(B,O,U,F,Y,G,!1,_)));var lt=e.indices,ut=y.epsilon*y.epsilon;for(i=P;i<M+P-2;++i)C=_[2*i],R=_[2*i+1],B=_[2*(i+1)],O=_[2*(i+1)+1],L=_[2*(i+2)],j=_[2*(i+2)+1],Math.abs(C*(O-j)+B*(j-R)+L*(R-O))<ut||lt.push(i,i+1,i+2)}}(t,e)}var A,C=function(){function t(){}return t.curveTo=function(t,e,r,n,h,o){var l=o[o.length-2],c=o[o.length-1]-e,f=l-t,d=n-e,y=r-t,v=Math.abs(c*y-f*d);if(v<1e-8||0===h)return o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e),null;var dd=c*c+f*f,m=d*d+y*y,x=c*d+f*y,w=h*Math.sqrt(dd)/v,_=h*Math.sqrt(m)/v,S=w*x/dd,M=_*x/m,P=w*y+_*f,T=w*d+_*c,D=f*(_+S),E=c*(_+S),I=y*(w+M),A=d*(w+M);return{cx:P+t,cy:T+e,radius:h,startAngle:Math.atan2(E-T,D-P),endAngle:Math.atan2(A-T,I-P),anticlockwise:f*d>y*c}},t.arc=function(t,e,r,n,h,o,c,f,d){for(var v=c-o,m=y._segmentsCount(Math.abs(v)*h,40*Math.ceil(Math.abs(v)/l.f)),x=v/(2*m),w=2*x,_=Math.cos(x),S=Math.sin(x),M=m-1,P=M%1/M,i=0;i<=M;++i){var T=x+o+w*(i+P*i),D=Math.cos(T),s=-Math.sin(T);d.push((_*D+S*s)*h+r,(_*-s+S*D)*h+n)}},t}(),R=function(){function t(){}return t.curveLength=function(t,e,r,n,h,o,l,c){for(var f=0,d=0,y=0,v=0,m=0,x=0,w=0,_=0,S=0,M=0,P=0,T=t,D=e,i=1;i<=10;++i)M=T-(_=(w=(x=(m=1-(d=i/10))*m)*m)*t+3*x*d*r+3*m*(y=d*d)*h+(v=y*d)*l),P=D-(S=w*e+3*x*d*n+3*m*y*o+v*c),T=_,D=S,f+=Math.sqrt(M*M+P*P);return f},t.curveTo=function(e,r,n,h,o,l,c){var f=c[c.length-2],d=c[c.length-1];c.length-=2;var v=y._segmentsCount(t.curveLength(f,d,e,r,n,h,o,l)),dt=0,m=0,x=0,w=0,_=0;c.push(f,d);for(var i=1,S=0;i<=v;++i)x=(m=(dt=1-(S=i/v))*dt)*dt,_=(w=S*S)*S,c.push(x*f+3*m*S*e+3*dt*w*n+_*o,x*d+3*m*S*r+3*dt*w*h+_*l)},t}(),B=function(){function t(){}return t.curveLength=function(t,e,r,n,h,o){var l=t-2*r+h,c=e-2*n+o,f=2*r-2*t,d=2*n-2*e,a=4*(l*l+c*c),b=4*(l*f+c*d),y=f*f+d*d,s=2*Math.sqrt(a+b+y),v=Math.sqrt(a),m=2*a*v,x=2*Math.sqrt(y),w=b/v;return(m*s+v*b*(s-x)+(4*y*a-b*b)*Math.log((2*v+w+s)/(w+x)))/(4*m)},t.curveTo=function(e,r,n,h,o){for(var l=o[o.length-2],c=o[o.length-1],f=y._segmentsCount(t.curveLength(l,c,e,r,n,h)),d=0,v=0,i=1;i<=f;++i){var m=i/f;d=l+(e-l)*m,v=c+(r-c)*m,o.push(d+(e+(n-e)*m-d)*m,v+(r+(h-r)*m-v)*m)}},t}(),O=function(){function t(){this.reset()}return t.prototype.begin=function(style,t,e){this.reset(),this.style=style,this.start=t,this.attribStart=e},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),L=((A={})[l.l.POLY]=w,A[l.l.CIRC]=_,A[l.l.ELIP]=_,A[l.l.RECT]=S,A[l.l.RREC]=T,A),j=[],U=[];function F(polygon){for(var t=polygon.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var N=function(){function t(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=r,this.fillStyle=e,this.matrix=n,this.type=t.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),z=new l.g,k=new d.a,H=function(t){function e(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new d.a,e.boundsDirty=-1,e}return x(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),U.push(this.drawCalls[i]);this.drawCalls.length=0;for(i=0;i<this.batches.length;i++){var t=this.batches[i];t.reset(),j.push(t)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,r,n){void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=null);var data=new N(t,e,r,n);return this.graphicsData.push(data),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var data=new N(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return data.lineStyle=r.lineStyle,r.holes.push(data),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,i=0;i<e.length;++i){var data=e[i];if(data.fillStyle.visible&&(data.shape&&(data.matrix?data.matrix.applyInverse(t,z):z.copyFrom(t),data.shape.contains(z.x,z.y)))){var r=!1;if(data.holes)for(var n=0;n<data.holes.length;n++){if(data.holes[n].shape.contains(z.x,z.y)){r=!0;break}}if(!r)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,r=this.graphicsData,n=null,h=null;this.batches.length>0&&(h=(n=this.batches[this.batches.length-1]).style);for(var i=this.shapeIndex;i<r.length;i++){this.shapeIndex++;var data=r[i],o=data.fillStyle,l=data.lineStyle;L[data.type].build(data),data.matrix&&this.transformPoints(data.points,data.matrix);for(var c=0;c<2;c++){var style=0===c?o:l;if(style.visible){var d=style.texture.baseTexture,y=this.indices.length,v=this.points.length/2;d.wrapMode=f.s.REPEAT,0===c?this.processFill(data):this.processLine(data);var m=this.points.length/2-v;0!==m&&(n&&!this._compareStyles(h,style)&&(n.end(y,v),n=null),n||((n=j.pop()||new O).begin(style,y,v),this.batches.push(n),h=style),this.addUvs(this.points,e,style.texture,v,m,style.matrix))}}}var x=this.indices.length,w=this.points.length/2;if(n&&n.end(x,w),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var _=w>65535&&t;this.indicesUint16=_?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var i=0,t=this.graphicsData.length;i<t;i++){var data=this.graphicsData[i],e=data.fillStyle,line=data.lineStyle;if(e&&!e.texture.baseTexture.valid)return!1;if(line&&!line.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,i=0,e=t.length;i<e;i++)for(var r=t[i],n=0;n<r.size;n++){var h=r.start+n;this.indicesUint16[h]=this.indicesUint16[h]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,i=0;i<t.length;i++)if(t[i].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++o.a._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),U.push(this.drawCalls[i]);this.drawCalls.length=0;var e=this.colors,r=this.textureIds,n=U.pop();n||((n=new o.b).texArray=new o.e),n.texArray.count=0,n.start=0,n.size=0,n.type=f.f.TRIANGLES;var h=0,l=null,c=0,d=!1,y=f.f.TRIANGLES,v=0;this.drawCalls.push(n);for(i=0;i<this.batches.length;i++){var data=this.batches[i],style=data.style,m=style.texture.baseTexture;d!==!!style.native&&(y=(d=!!style.native)?f.f.LINES:f.f.TRIANGLES,l=null,h=8,t++),l!==m&&(l=m,m._batchEnabled!==t&&(8===h&&(t++,h=0,n.size>0&&((n=U.pop())||((n=new o.b).texArray=new o.e),this.drawCalls.push(n)),n.start=v,n.size=0,n.texArray.count=0,n.type=y),m.touched=1,m._batchEnabled=t,m._batchLocation=h,m.wrapMode=f.s.REPEAT,n.texArray.elements[n.texArray.count++]=m,h++)),n.size+=data.size,v+=data.size,c=m._batchLocation,this.addColors(e,style.color,style.alpha,data.attribSize,data.attribStart),this.addTextureIds(r,c,data.attribSize,data.attribStart)}o.a._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,h=new ArrayBuffer(3*t.length*4),o=new Float32Array(h),l=new Uint32Array(h),p=0,i=0;i<t.length/2;i++)o[p++]=t[2*i],o[p++]=t[2*i+1],o[p++]=e[2*i],o[p++]=e[2*i+1],l[p++]=r[i],o[p++]=n[i];this._buffer.update(h),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(data){data.holes.length?(this.processHoles(data.holes),w.triangulate(data,this)):L[data.type].triangulate(data,this)},e.prototype.processLine=function(data){I(data,this);for(var i=0;i<data.holes.length;i++)I(data.holes[i],this)},e.prototype.processHoles=function(t){for(var i=0;i<t.length;i++){var e=t[i];L[e.type].build(e),e.matrix&&this.transformPoints(e.points,e.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=k,r=l.d.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var data=this.graphicsData[i],n=data.shape,h=data.type,o=data.lineStyle,c=data.matrix||l.d.IDENTITY,f=0;if(o&&o.visible){var d=o.alignment;f=o.width,h===l.l.POLY?F(n)?f*=1-d:f*=d:f*=Math.max(0,d)}if(r!==c&&(e.isEmpty()||(t.addBoundsMatrix(e,r),e.clear()),r=c),h===l.l.RECT||h===l.l.RREC){var rect=n;e.addFramePad(rect.x,rect.y,rect.x+rect.width,rect.y+rect.height,f,f)}else if(h===l.l.CIRC){var circle=n;e.addFramePad(circle.x,circle.y,circle.x,circle.y,circle.radius+f,circle.radius+f)}else if(h===l.l.ELIP){var ellipse=n;e.addFramePad(ellipse.x,ellipse.y,ellipse.x,ellipse.y,ellipse.width+f,ellipse.height+f)}else{var y=n;t.addVerticesMatrix(r,y.points,0,y.points.length,f,f)}}e.isEmpty()||t.addBoundsMatrix(e,r),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var i=0;i<t.length/2;i++){var r=t[2*i],n=t[2*i+1];t[2*i]=e.a*r+e.c*n+e.tx,t[2*i+1]=e.b*r+e.d*n+e.ty}},e.prototype.addColors=function(t,e,r,n,h){void 0===h&&(h=0);var o=(e>>16)+(65280&e)+((255&e)<<16),l=Object(c.v)(o,r);t.length=Math.max(t.length,h+n);for(var i=0;i<n;i++)t[h+i]=l},e.prototype.addTextureIds=function(t,e,r,n){void 0===n&&(n=0),t.length=Math.max(t.length,n+r);for(var i=0;i<r;i++)t[n+i]=e},e.prototype.addUvs=function(t,e,r,n,h,o){void 0===o&&(o=null);for(var l=0,c=e.length,f=r.frame;l<h;){var d=t[2*(n+l)],y=t[2*(n+l)+1];if(o){var v=o.a*d+o.c*y+o.tx;y=o.b*d+o.d*y+o.ty,d=v}l++,e.push(d/f.width,y/f.height)}var m=r.baseTexture;(f.width<m.width||f.height<m.height)&&this.adjustUvs(e,r,c,h)},e.prototype.adjustUvs=function(t,e,r,n){for(var h=e.baseTexture,o=1e-6,l=r+2*n,c=e.frame,f=c.width/h.width,d=c.height/h.height,y=c.x/c.width,v=c.y/c.height,m=Math.floor(t[r]+o),x=Math.floor(t[r+1]+o),i=r+2;i<l;i+=2)m=Math.min(m,Math.floor(t[i]+o)),x=Math.min(x,Math.floor(t[i+1]+o));y-=m,v-=x;for(i=r;i<l;i+=2)t[i]=(t[i]+y)*f,t[i+1]=(t[i+1]+v)*d},e.BATCHABLE_SIZE=100,e}(o.c),Y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=h.BUTT,e.join=n.MITER,e.miterLimit=10,e}return x(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(v),G=new Float32Array(3),V={},W=function(t){function e(e){void 0===e&&(e=null);var r=t.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new v,r._lineStyle=new Y,r._matrix=null,r._holeMode=!1,r.state=o.p.for2d(),r._geometry=e||new H,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=f.b.NORMAL,r}return x(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,r,n,h){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===r&&(r=1),void 0===n&&(n=.5),void 0===h&&(h=!1),"number"==typeof t&&(t={width:t,color:e,alpha:r,alignment:n,native:h}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:o.q.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:h.BUTT,join:n.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new l.h,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new l.h,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,n=r[r.length-2],h=r[r.length-1];return n===t&&h===e||r.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,r,n){this._initCurve();var h=this.currentPath.points;return 0===h.length&&this.moveTo(0,0),B.curveTo(t,e,r,n,h),this},e.prototype.bezierCurveTo=function(t,e,r,n,h,o){return this._initCurve(),R.curveTo(t,e,r,n,h,o,this.currentPath.points),this},e.prototype.arcTo=function(t,e,r,n,h){this._initCurve(t,e);var o=this.currentPath.points,l=C.curveTo(t,e,r,n,h,o);if(l){var c=l.cx,f=l.cy,d=l.radius,y=l.startAngle,v=l.endAngle,m=l.anticlockwise;this.arc(c,f,d,y,v,m)}return this},e.prototype.arc=function(t,e,r,n,h,o){if(void 0===o&&(o=!1),n===h)return this;if(!o&&h<=n?h+=l.f:o&&n<=h&&(n+=l.f),0===h-n)return this;var c=t+Math.cos(n)*r,f=e+Math.sin(n)*r,d=this._geometry.closePointEps,y=this.currentPath?this.currentPath.points:null;if(y){var v=Math.abs(y[y.length-2]-c),m=Math.abs(y[y.length-1]-f);v<d&&m<d||y.push(c,f)}else this.moveTo(c,f),y=this.currentPath.points;return C.arc(c,f,t,e,r,n,h,o,y),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:o.q.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:o.q.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,r,n){return this.drawShape(new l.j(t,e,r,n))},e.prototype.drawRoundedRect=function(t,e,r,n,h){return this.drawShape(new l.k(t,e,r,n,h))},e.prototype.drawCircle=function(t,e,r){return this.drawShape(new l.a(t,e,r))},e.prototype.drawEllipse=function(t,e,r,n){return this.drawShape(new l.c(t,e,r,n))},e.prototype.drawPolygon=function(){for(var t,e=arguments,path=[],r=0;r<arguments.length;r++)path[r]=e[r];var n=!0,h=path[0];h.points?(n=h.closeStroke,t=h.points):t=Array.isArray(path[0])?path[0]:path;var o=new l.h(t);return o.closeStroke=n,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var data=this._geometry.graphicsData;return!(1!==data.length||data[0].shape.type!==l.l.RECT||data[0].holes.length||data[0].lineStyle.visible&&data[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,r=t.context.supports.uint32Indices;e.updateBatches(r),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(var i=0;i<r;i++){var n=t.batches[i],h=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),l=new Float32Array(t.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),f={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*n.start,n.size),uvs:l,_batchRGB:Object(c.m)(h),_tintRGB:h,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=f}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,e=this.batches.length;i<e;i++){var r=this.batches[i];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),r=this._geometry,n=this.tint,h=this.worldAlpha,o=e.uniforms,l=r.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(n>>16&255)/255*h,o.tint[1]=(n>>8&255)/255*h,o.tint[2]=(255&n)/255*h,o.tint[3]=h,t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(var i=0,c=l.length;i<c;i++)this._renderDrawCallDirect(t,r.drawCalls[i])},e.prototype._renderDrawCallDirect=function(t,e){for(var r=e.texArray,n=e.type,h=e.size,o=e.start,l=r.count,c=0;c<l;c++)t.texture.bind(r.elements[c],c);t.geometry.draw(n,h,o)},e.prototype._resolveDirectShader=function(t){var e=this.shader,r=this.pluginName;if(!e){if(!V[r]){for(var n=t.plugins.batch.MAX_TEXTURES,h=new Int32Array(n),i=0;i<n;i++)h[i]=i;var c={tint:new Float32Array([1,1,1,1]),translationMatrix:new l.d,default:o.s.from({uSamplers:h},!0)},f=t.plugins[r]._shader.program;V[r]=new o.o(f,c)}e=V[r]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,r=e.minX,n=e.minY,h=e.maxX,o=e.maxY;this._bounds.addFrame(this.transform,r,n,h,o)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Object(c.m)(this.tint,G),i=0;i<this.batches.length;i++){var e=this.batches[i],r=e._batchRGB,n=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);e._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,a=e.a,b=e.b,r=e.c,n=e.d,h=e.tx,o=e.ty,data=this._geometry.points,l=this.vertexData,c=0,i=0;i<data.length;i+=2){var f=data[i],d=data[i+1];l[c++]=a*f+r*d+h,l[c++]=n*d+b*f+o}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new l.g,e}(d.b)}}]);