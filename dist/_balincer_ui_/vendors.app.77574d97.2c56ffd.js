(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{189:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(3),o=r(2),h=r(4),l=r(42),c=function(){function e(e,data,t){void 0===t&&(t=null),this._texture=e instanceof o.q?e:null,this.baseTexture=e instanceof o.a?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=data;var r=this.baseTexture.resource;this.resolution=this._updateResolution(t||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=Object(h.l)(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,h=e.BATCH_SIZE;r-t<h&&r<this._frameKeys.length;){var i=this._frameKeys[r],data=this._frames[i],rect=data.frame;if(rect){var l=null,c=null,f=!1!==data.trimmed&&data.sourceSize?data.sourceSize:data.frame,d=new n.j(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);l=data.rotated?new n.j(Math.floor(rect.x)/this.resolution,Math.floor(rect.y)/this.resolution,Math.floor(rect.h)/this.resolution,Math.floor(rect.w)/this.resolution):new n.j(Math.floor(rect.x)/this.resolution,Math.floor(rect.y)/this.resolution,Math.floor(rect.w)/this.resolution,Math.floor(rect.h)/this.resolution),!1!==data.trimmed&&data.spriteSourceSize&&(c=new n.j(Math.floor(data.spriteSourceSize.x)/this.resolution,Math.floor(data.spriteSourceSize.y)/this.resolution,Math.floor(rect.w)/this.resolution,Math.floor(rect.h)/this.resolution)),this.textures[i]=new o.q(this.baseTexture,l,d,c,data.rotated?2:0,data.anchor),o.q.addToCache(this.textures[i],i)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var r=e[t][i];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var i in void 0===e&&(e=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),f=function(){function e(){}return e.use=function(t,r){var n,o,f=this,d=t.name+"_image";if(t.data&&t.type===l.c.TYPE.JSON&&t.data.frames&&!f.resources[d]){var m=null===(o=null===(n=t.data)||void 0===n?void 0:n.meta)||void 0===o?void 0:o.related_multi_packs;if(Array.isArray(m))for(var v=function(e){if("string"!=typeof e)return"continue";var r=e.replace(".json",""),n=h.D.resolve(t.url.replace(f.baseUrl,""),e);if(f.resources[r]||Object.values(f.resources).some((function(e){return h.D.format(h.D.parse(e.url))===n})))return"continue";var o={crossOrigin:t.crossOrigin,loadType:l.c.LOAD_TYPE.XHR,xhrType:l.c.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};f.add(r,n,o)},x=0,y=m;x<y.length;x++){v(y[x])}var _={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},w=e.getResourcePath(t,f.baseUrl);f.add(d,w,_,(function(e){if(e.error)r(e.error);else{var n=new c(e.texture,t.data,t.url);n.parse((function(){t.spritesheet=n,t.textures=n.textures,r()}))}}))}else r()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:h.D.resolve(e.url.replace(t,""),e.data.meta.image)},e}()},191:function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var n=r(3),o=r(9),h=r(52),l=r(4),c=r(2),f=r(81),d=r(0),m=r(15),v=r(42),x=function(e,b){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)b.hasOwnProperty(p)&&(e[p]=b[p])},x(e,b)};var y=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},_=function(){function e(){}return e.test=function(data){return"string"==typeof data&&0===data.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],o=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(var l in o){var c=o[l].split("="),f=c[0],d=c[1].replace(/"/gm,""),m=parseFloat(d),v=isNaN(m)?d:m;h[f]=v}r[n].push(h)}var x=new y;return r.info.forEach((function(e){return x.info.push({face:e.face,size:parseInt(e.size,10)})})),r.common.forEach((function(e){return x.common.push({lineHeight:parseInt(e.lineHeight,10)})})),r.page.forEach((function(e){return x.page.push({id:parseInt(e.id,10),file:e.file})})),r.char.forEach((function(e){return x.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),r.kerning.forEach((function(e){return x.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),r.distanceField.forEach((function(e){return x.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),x},e}(),w=function(){function e(){}return e.test=function(data){return data instanceof XMLDocument&&data.getElementsByTagName("page").length&&null!==data.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var data=new y,t=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),h=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField"),i=0;i<t.length;i++)data.info.push({face:t[i].getAttribute("face"),size:parseInt(t[i].getAttribute("size"),10)});for(i=0;i<r.length;i++)data.common.push({lineHeight:parseInt(r[i].getAttribute("lineHeight"),10)});for(i=0;i<n.length;i++)data.page.push({id:parseInt(n[i].getAttribute("id"),10)||0,file:n[i].getAttribute("file")});for(i=0;i<o.length;i++){var c=o[i];data.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(i=0;i<h.length;i++)data.kerning.push({first:parseInt(h[i].getAttribute("first"),10),second:parseInt(h[i].getAttribute("second"),10),amount:parseInt(h[i].getAttribute("amount"),10)});for(i=0;i<l.length;i++)data.distanceField.push({fieldType:l[i].getAttribute("fieldType"),distanceRange:parseInt(l[i].getAttribute("distanceRange"),10)});return data},e}(),T=function(){function e(){}return e.test=function(data){if("string"==typeof data&&data.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(data,"text/xml");return w.test(e)}return!1},e.parse=function(e){var t=(new self.DOMParser).parseFromString(e,"text/xml");return w.parse(t)},e}(),S=[_,w,T];function A(data){for(var i=0;i<S.length;i++)if(S[i].test(data))return S[i];return null}function M(canvas,e,t,r,n,o,style){var h=t.text,c=t.fontProperties;e.translate(r,n),e.scale(o,o);var d=style.strokeThickness/2,m=-style.strokeThickness/2;e.font=style.toFontString(),e.lineWidth=style.strokeThickness,e.textBaseline=style.textBaseline,e.lineJoin=style.lineJoin,e.miterLimit=style.miterLimit,e.fillStyle=function(canvas,e,style,t,r,n){var o,h=style.fill;if(!Array.isArray(h))return h;if(1===h.length)return h[0];var l=style.dropShadow?style.dropShadowDistance:0,c=style.padding||0,d=canvas.width/t-l-2*c,m=canvas.height/t-l-2*c,v=h.slice(),x=style.fillGradientStops.slice();if(!x.length)for(var y=v.length+1,i=1;i<y;++i)x.push(i/y);if(v.unshift(h[0]),x.unshift(0),v.push(h[h.length-1]),x.push(1),style.fillGradientType===f.a.LINEAR_VERTICAL){o=e.createLinearGradient(d/2,c,d/2,m+c);var _=0,w=(n.fontProperties.fontSize+style.strokeThickness)/m;for(i=0;i<r.length;i++)for(var T=n.lineHeight*i,S=0;S<v.length;S++){var A=T/m+("number"==typeof x[S]?x[S]:S/v.length)*w,M=Math.max(_,A);M=Math.min(M,1),o.addColorStop(M,v[S]),_=M}}else{o=e.createLinearGradient(c,m/2,d+c,m/2);var C=v.length+1,P=1;for(i=0;i<v.length;i++){var O=void 0;O="number"==typeof x[i]?x[i]:P/C,o.addColorStop(O,v[i]),P++}}return o}(canvas,e,style,o,[h],t),e.strokeStyle=style.stroke;var v=style.dropShadowColor,x=Object(l.m)("number"==typeof v?v:Object(l.A)(v));style.dropShadow?(e.shadowColor="rgba("+255*x[0]+","+255*x[1]+","+255*x[2]+","+style.dropShadowAlpha+")",e.shadowBlur=style.dropShadowBlur,e.shadowOffsetX=Math.cos(style.dropShadowAngle)*style.dropShadowDistance,e.shadowOffsetY=Math.sin(style.dropShadowAngle)*style.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),style.stroke&&style.strokeThickness&&e.strokeText(h,d,m+t.lineHeight-c.descent),style.fill&&e.fillText(h,d,m+t.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function C(text){return Array.from?Array.from(text):text.split("")}function P(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var O=function(){function e(data,e,t){var r,o,h=data.info[0],f=data.common[0],m=data.page[0],v=data.distanceField[0],x=Object(l.l)(m.file),y={};this._ownsTextures=t,this.font=h.face,this.size=h.size,this.lineHeight=f.lineHeight/x,this.chars={},this.pageTextures=y;for(var i=0;i<data.page.length;i++){var _=data.page[i],w=_.id,T=_.file;y[w]=e instanceof Array?e[i]:e[T],(null==v?void 0:v.fieldType)&&"none"!==v.fieldType&&(y[w].baseTexture.alphaMode=d.a.NO_PREMULTIPLIED_ALPHA)}for(i=0;i<data.char.length;i++){var S=data.char[i],A=(w=S.id,S.page),M=data.char[i],C=M.x,P=M.y,O=M.width,I=M.height,E=M.xoffset,F=M.yoffset,k=M.xadvance;C/=x,P/=x,O/=x,I/=x,E/=x,F/=x,k/=x;var rect=new n.j(C+y[A].frame.x/x,P+y[A].frame.y/x,O,I);this.chars[w]={xOffset:E,yOffset:F,xAdvance:k,kerning:{},texture:new c.q(y[A].baseTexture,rect),page:A}}for(i=0;i<data.kerning.length;i++){var H=data.kerning[i],z=H.first,B=H.second,j=H.amount;z/=x,B/=x,j/=x,this.chars[B]&&(this.chars[B].kerning[z]=j)}this.distanceFieldRange=null==v?void 0:v.distanceRange,this.distanceFieldType=null!==(o=null===(r=null==v?void 0:v.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==o?o:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(data,t,r){var n;if(data instanceof y)n=data;else{var o=A(data);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(data)}t instanceof c.q&&(t=[t]);var h=new e(n,t,r);return e.available[h.font]=h,h},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},e.defaultOptions,n),h=o.chars,l=o.padding,d=o.resolution,m=o.textureWidth,v=o.textureHeight,x=function(e){"string"==typeof e&&(e=[e]);for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var o=n[0].charCodeAt(0),h=n[1].charCodeAt(0);if(h<o)throw new Error("[BitmapFont]: Invalid character range.");for(var l=o,c=h;l<=c;l++)t.push(String.fromCharCode(l))}else t.push.apply(t,C(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(h),style=r instanceof f.d?r:new f.d(r),_=m,w=new y;w.info[0]={face:style.fontFamily,size:style.fontSize},w.common[0]={lineHeight:style.fontSize};for(var canvas,T,S,A=0,O=0,I=0,E=[],i=0;i<x.length;i++){canvas||((canvas=document.createElement("canvas")).width=m,canvas.height=v,T=canvas.getContext("2d"),S=new c.a(canvas,{resolution:d}),E.push(new c.q(S)),w.page.push({id:E.length-1,file:""}));var F=f.c.measureText(x[i],style,!1,canvas),k=F.width,H=Math.ceil(F.height),z=Math.ceil(("italic"===style.fontStyle?2:1)*k);if(O>=v-H*d){if(0===O)throw new Error("[BitmapFont] textureHeight "+v+"px is too small for "+style.fontSize+"px fonts");--i,canvas=null,T=null,S=null,O=0,A=0,I=0}else if(I=Math.max(H+F.fontProperties.descent,I),z*d+A>=_)--i,O+=I*d,O=Math.ceil(O),A=0,I=0;else{M(canvas,T,F,A,O,d,style);var B=P(F.text);w.char.push({id:B,page:E.length-1,x:A/d,y:O/d,width:z,height:H,xoffset:0,yoffset:0,xadvance:Math.ceil(k-(style.dropShadow?style.dropShadowDistance:0)-(style.stroke?style.strokeThickness:0))}),A+=(z+2*l)*d,A=Math.ceil(A)}}i=0;for(var j=x.length;i<j;i++)for(var D=x[i],N=0;N<j;N++){var R=x[N],L=T.measureText(D).width,W=T.measureText(R).width,U=T.measureText(D+R).width-(L+W);U&&w.kerning.push({first:P(D),second:P(R),amount:U})}var Y=new e(w,E,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=Y,Y},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),I=[],E=[],F=[],k=(function(e){function t(text,style){void 0===style&&(style={});var r=e.call(this)||this;r._tint=16777215;var h=Object.assign({},t.styleDefaults,style),l=h.align,c=h.tint,f=h.maxWidth,d=h.letterSpacing,m=h.fontName,v=h.fontSize;if(!O.available[m])throw new Error('Missing BitmapFont "'+m+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=l,r._tint=c,r._fontName=m,r._fontSize=v||O.available[m].size,r._text=text,r._maxWidth=f,r._maxLineHeight=0,r._letterSpacing=d,r._anchor=new n.e((function(){r.dirty=!0}),r,0,0),r._roundPixels=o.b.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}(function(e,b){function t(){this.constructor=e}x(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)})(t,e),t.prototype.updateText=function(){for(var e,data=O.available[this._fontName],t=this._fontSize/data.size,r=new n.g,o=[],f=[],m=[],v=C(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),x=this._maxWidth*data.size/this._fontSize,y="none"===data.distanceFieldType?I:E,_=null,w=0,T=0,line=0,S=-1,A=0,M=0,k=0,H=0,i=0;i<v.length;i++){var z=P(re=v[i]);if(/(?:\s)/.test(re)&&(S=i,A=w,H++),"\r"!==re&&"\n"!==re){var B=data.chars[z];if(B){_&&B.kerning[_]&&(r.x+=B.kerning[_]);var j=F.pop()||{texture:c.q.EMPTY,line:0,charCode:0,prevSpaces:0,position:new n.g};j.texture=B.texture,j.line=line,j.charCode=z,j.position.x=r.x+B.xOffset+this._letterSpacing/2,j.position.y=r.y+B.yOffset,j.prevSpaces=H,o.push(j),w=j.position.x+B.texture.orig.width,r.x+=B.xAdvance+this._letterSpacing,k=Math.max(k,B.yOffset+B.texture.height),_=z,-1!==S&&x>0&&r.x>x&&(++M,Object(l.x)(o,1+S-M,1+i-S),i=S,S=-1,f.push(A),m.push(o.length>0?o[o.length-1].prevSpaces:0),T=Math.max(T,A),line++,r.x=0,r.y+=data.lineHeight,_=null,H=0)}}else f.push(w),m.push(-1),T=Math.max(T,w),++line,++M,r.x=0,r.y+=data.lineHeight,_=null,H=0}var D=v[v.length-1];"\r"!==D&&"\n"!==D&&(/(?:\s)/.test(D)&&(w=A),f.push(w),T=Math.max(T,w),m.push(-1));var N=[];for(i=0;i<=line;i++){var R=0;"right"===this._align?R=T-f[i]:"center"===this._align?R=(T-f[i])/2:"justify"===this._align&&(R=m[i]<0?0:(T-f[i])/m[i]),N.push(R)}var L=o.length,W={},U=[],Y=this._activePagesMeshData;for(i=0;i<Y.length;i++)y.push(Y[i]);for(i=0;i<L;i++){var X=(ne=o[i].texture).baseTexture.uid;if(!W[X]){if(!(ce=y.pop())){var Z=new h.b,J=void 0,K=void 0;"none"===data.distanceFieldType?(J=new h.c(c.q.EMPTY),K=d.b.NORMAL):(J=new h.c(c.q.EMPTY,{program:c.k.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),K=d.b.NORMAL_NPM);var G=new h.a(Z,J);G.blendMode=K,ce={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}ce.index=0,ce.indexCount=0,ce.vertexCount=0,ce.uvsCount=0,ce.total=0;var V=this._textureCache;V[X]=V[X]||new c.q(ne.baseTexture),ce.mesh.texture=V[X],ce.mesh.tint=this._tint,U.push(ce),W[X]=ce}W[X].total++}for(i=0;i<Y.length;i++)-1===U.indexOf(Y[i])&&this.removeChild(Y[i].mesh);for(i=0;i<U.length;i++)U[i].mesh.parent!==this&&this.addChild(U[i].mesh);for(var i in this._activePagesMeshData=U,W){var $=(ce=W[i]).total;if(!((null===(e=ce.indices)||void 0===e?void 0:e.length)>6*$)||ce.vertices.length<2*h.a.BATCHABLE_SIZE)ce.vertices=new Float32Array(8*$),ce.uvs=new Float32Array(8*$),ce.indices=new Uint16Array(6*$);else for(var Q=ce.total,ee=ce.vertices,te=4*Q*2;te<ee.length;te++)ee[te]=0;ce.mesh.size=6*$}for(i=0;i<L;i++){var re,ie=(re=o[i]).position.x+N[re.line]*("justify"===this._align?re.prevSpaces:1);this._roundPixels&&(ie=Math.round(ie));var ne,ae=ie*t,oe=re.position.y*t,se=W[(ne=re.texture).baseTexture.uid],he=ne.frame,le=ne._uvs,ue=se.index++;se.indices[6*ue+0]=0+4*ue,se.indices[6*ue+1]=1+4*ue,se.indices[6*ue+2]=2+4*ue,se.indices[6*ue+3]=0+4*ue,se.indices[6*ue+4]=2+4*ue,se.indices[6*ue+5]=3+4*ue,se.vertices[8*ue+0]=ae,se.vertices[8*ue+1]=oe,se.vertices[8*ue+2]=ae+he.width*t,se.vertices[8*ue+3]=oe,se.vertices[8*ue+4]=ae+he.width*t,se.vertices[8*ue+5]=oe+he.height*t,se.vertices[8*ue+6]=ae,se.vertices[8*ue+7]=oe+he.height*t,se.uvs[8*ue+0]=le.x0,se.uvs[8*ue+1]=le.y0,se.uvs[8*ue+2]=le.x1,se.uvs[8*ue+3]=le.y1,se.uvs[8*ue+4]=le.x2,se.uvs[8*ue+5]=le.y2,se.uvs[8*ue+6]=le.x3,se.uvs[8*ue+7]=le.y3}for(var i in this._textWidth=T*t,this._textHeight=(r.y+data.lineHeight)*t,W){var ce=W[i];if(0!==this.anchor.x||0!==this.anchor.y)for(var fe=0,de=this._textWidth*this.anchor.x,pe=this._textHeight*this.anchor.y,ge=0;ge<ce.total;ge++)ce.vertices[fe++]-=de,ce.vertices[fe++]-=pe,ce.vertices[fe++]-=de,ce.vertices[fe++]-=pe,ce.vertices[fe++]-=de,ce.vertices[fe++]-=pe,ce.vertices[fe++]-=de,ce.vertices[fe++]-=pe;this._maxLineHeight=k*t;var me=ce.mesh.geometry.getBuffer("aVertexPosition"),ve=ce.mesh.geometry.getBuffer("aTextureCoord"),xe=ce.mesh.geometry.getIndex();me.data=ce.vertices,ve.data=ce.uvs,xe.data=ce.indices,me.update(),ve.update(),xe.update()}for(i=0;i<o.length;i++)F.push(o[i])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){var r=O.available[this._fontName],n=r.distanceFieldRange,o=r.distanceFieldType,h=r.size;if("none"!==o)for(var l=this.worldTransform,a=l.a,b=l.b,c=l.c,f=l.d,d=Math.sqrt(a*a+b*b),m=Math.sqrt(c*c+f*f),v=(Math.abs(d)+Math.abs(m))/2,x=this._fontSize/h,y=0,_=this._activePagesMeshData;y<_.length;y++){_[y].mesh.shader.uniforms.uFWidth=v*n*x*t.resolution}e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!O.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(text){text=String(null==text?"":text),this._text!==text&&(this._text=text,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var r=this._textureCache;for(var n in r){r[n].destroy(),delete r[n]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(m.b),function(){function e(){}return e.add=function(){v.c.setExtensionXhrType("fnt",v.c.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=A(t.data);if(n)for(var o=e.getBaseUrl(this,t),data=n.parse(t.data),h={},l=function(e){h[e.metadata.pageFile]=e.texture,Object.keys(h).length===data.page.length&&(t.bitmapFont=O.install(data,h,!0),r())},i=0;i<data.page.length;++i){var c=data.page[i].file,f=o+c,d=!1;for(var m in this.resources){var x=this.resources[m];if(x.url===f){x.metadata.pageFile=c,x.texture?l(x):x.onAfterMiddleware.add(l),d=!0;break}}if(!d){var y={crossOrigin:t.crossOrigin,loadType:v.c.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},t.metadata.imageMetadata),parentResource:t};this.add(f,y,l)}}else r()},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),t.baseUrl&&n&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(n+="/")),(n=n.replace(t.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}())}}]);